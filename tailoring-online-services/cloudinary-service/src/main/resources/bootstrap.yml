spring:
  application:
    name: cloudinary-service
  profiles:
    active: local
  cloud:
    config:
      enabled: true
      uri: http://admin:admin@localhost:8888
      failFast: true
      retry:
        maxAttempts: 20
      profile: local
      label: main
    stream:
      bindings:
        processProfilePicture-in-0:
          destination: cloudinary-upload-image-request-topic
          group: cloudinary-service-group
          binder: kafka
        processProfilePicture-out-0:
          destination: cloudinary-upload-image-response-topic
          binder: kafka
      function:
        definition: processProfilePicture
      kafka:
        binder:
          brokers: localhost:9092
          defaultBrokerPort: 9092
          configuration:
            auto.offset.reset: earliest
            consumer:
              enable.auto.commit: true
              auto.commit.interval.ms: 1000
            producer:
              retries: 3
              acks: all
  kafka:
    consumer:
      group-id: cloudinary-service-group
      auto-offset-reset: earliest